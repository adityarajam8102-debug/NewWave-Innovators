<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Redirect Test - Smart Education Platform</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .test-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 2rem;
            max-width: 800px;
            width: 100%;
            text-align: center;
            backdrop-filter: blur(10px);
            margin-bottom: 2rem;
        }
        
        .test-button {
            background: #ffd700;
            color: #333;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin: 0.5rem;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }
        
        .test-button:hover {
            background: #ffed4e;
            transform: translateY(-2px);
        }
        
        .info-box {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
            text-align: left;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .test-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
        }
        
        .test-item h3 {
            color: #ffd700;
            margin-bottom: 1rem;
        }
        
        .video-placeholder {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 2rem;
            margin: 1rem 0;
            border: 2px dashed rgba(255, 255, 255, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }
        
        .video-icon {
            font-size: 3rem;
            color: #ff4757;
        }
        
        .success {
            color: #4CAF50;
        }
        
        .warning {
            color: #ff9800;
        }
        
        .error {
            color: #f44336;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üé• YouTube Redirect & Popup Disable Test</h1>
        
        <div class="info-box">
            <h3>‚úÖ What Was Fixed:</h3>
            <ul>
                <li><strong>Play Video Button:</strong> Now redirects directly to YouTube video</li>
                <li><strong>Popup Notifications:</strong> Disabled for all button clicks</li>
                <li><strong>Direct Actions:</strong> Buttons perform actions without annoying popups</li>
            </ul>
        </div>
        
        <div class="video-placeholder">
            <i class="fas fa-play-circle video-icon"></i>
            <h3>Interactive Video: Benefits of Digital Learning</h3>
            <p>Click the button below to test the YouTube redirect</p>
            <button class="test-button" onclick="testYouTubeRedirect()">
                üé¨ Play Video (Test YouTube Redirect)
            </button>
        </div>
        
        <div class="test-grid">
            <div class="test-item">
                <h3>üéØ YouTube Redirect Test</h3>
                <p>The Play Video button should open YouTube in a new tab</p>
                <button class="test-button" onclick="playVideo()">
                    Play Video
                </button>
            </div>
            
            <div class="test-item">
                <h3>üîï No Popup Test</h3>
                <p>These buttons should work without showing popup messages</p>
                <button class="test-button" onclick="testNoPopup('feature')">
                    Test Feature Click
                </button>
                <button class="test-button" onclick="testNoPopup('course')">
                    Test Course Click
                </button>
            </div>
        </div>
        
        <div class="info-box">
            <h3>üß™ Test Results:</h3>
            <div id="testResults">
                <p>Click the buttons above to test functionality...</p>
            </div>
        </div>
        
        <div class="test-grid">
            <button class="test-button" onclick="window.location.href='index.html'">
                üè† Back to Main Site
            </button>
            <button class="test-button" onclick="openOriginalVideo()">
                üé¨ Open Original YouTube Video
            </button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <script src="script.js"></script>
    <script>
        let testResults = [];
        
        function updateTestResults() {
            const resultsDiv = document.getElementById('testResults');
            if (testResults.length === 0) {
                resultsDiv.innerHTML = '<p>Click the buttons above to test functionality...</p>';
                return;
            }
            
            resultsDiv.innerHTML = testResults.map(result => 
                `<p class="${result.status}">‚úì ${result.message}</p>`
            ).join('');
        }
        
        function addTestResult(message, status = 'success') {
            testResults.push({ message, status, timestamp: new Date() });
            updateTestResults();
        }
        
        function testYouTubeRedirect() {
            addTestResult('YouTube redirect button clicked - should open new tab', 'success');
            playVideo(); // This should redirect to YouTube
        }
        
        function openOriginalVideo() {
            window.open('https://youtube.com/shorts/s-zi-mVieUw?feature=shared', '_blank');
            addTestResult('Original YouTube video opened successfully', 'success');
        }
        
        function testNoPopup(type) {
            const startTime = Date.now();
            
            // Test various functions that should not show popups
            if (type === 'feature') {
                if (typeof showFeatureDetails === 'function') {
                    showFeatureDetails('interactive');
                    addTestResult('Feature details function called - no popup should appear', 'success');
                } else {
                    addTestResult('Feature details function not found', 'warning');
                }
            } else if (type === 'course') {
                if (typeof startCourse === 'function') {
                    // Test course function (if available)
                    addTestResult('Course function tested - no popup should appear', 'success');
                } else {
                    addTestResult('Course function not found', 'warning');
                }
            }
            
            // Check for any notification containers that might have appeared
            setTimeout(() => {
                const notifications = document.querySelectorAll('#notification-container .notification, .notification');
                if (notifications.length > 0) {
                    addTestResult('‚ö†Ô∏è Popup notification detected - fix needed', 'error');
                } else {
                    addTestResult(`${type} test passed - no popup notifications appeared`, 'success');
                }
            }, 1000);
        }
        
        // Override showNotification to detect if it's called
        let originalShowNotification = null;
        if (typeof showNotification === 'function') {
            originalShowNotification = showNotification;
        }
        
        window.showNotification = function(message, type) {
            addTestResult(`‚ö†Ô∏è showNotification was called: "${message}" (${type})`, 'error');
            // Don't actually show the notification
        };
        
        // Test on page load
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                addTestResult('Test page loaded successfully', 'success');
                addTestResult('Popup notifications have been disabled', 'success');
                
                // Test if playVideo function exists
                if (typeof playVideo === 'function') {
                    addTestResult('playVideo function is available for testing', 'success');
                } else {
                    addTestResult('playVideo function not found - may need to load script.js', 'warning');
                }
            }, 500);
        });
        
        // Monitor for any popup elements
        const observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                mutation.addedNodes.forEach(function(node) {
                    if (node.nodeType === 1) { // Element node
                        if (node.id === 'notification-container' || 
                            node.className?.includes('notification') ||
                            node.className?.includes('toast')) {
                            addTestResult('‚ö†Ô∏è Popup element detected and blocked', 'warning');
                            if (node.parentNode) {
                                node.parentNode.removeChild(node);
                            }
                        }
                    }
                });
            });
        });
        
        observer.observe(document.body, {
            childList: true,
            subtree: true
        });
    </script>
</body>
</html>
